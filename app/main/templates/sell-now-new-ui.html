<ion-view hide-nav-bar="false" cache-view="false" hide-back-button="true" title="Sell">
    <!-- <ion-view hide-nav-bar="false" title="View Appointments" cache-view="false" hide-back-button="true">
     -->
    <div class="row tabRow tabRowNew b-sdow">
        <div class="col tabCol b-c-w">
            <button class="button button-block tabButtonStyle" ng-click="vm.SELLTYPE='PICKUP'"><span ng-class="(vm.SELLTYPE=='PICKUP')?'pendingNewStyle':'completedNewStyle'">PICKUP AT</span>
            </button>
        </div>
        <div class="col tabCol b-c-w">
            <button class="button button-block tabButtonStyle" ng-click="vm.SELLTYPE='DROP'"><span ng-class="(vm.SELLTYPE=='DROP')?'pendingNewStyle':'completedNewStyle'">DROP AT</span>
            </button>
        </div>
    </div>
    <ion-content class="paddingZero has-header m-t-15" has-bouncing="false">

        <div  class="m-tb-50 pos-rel">
           <div >
            <div class="">
                <div  ng-show="!vm.newlocation" class="row padding">
                    <div class="col col-90 bor-clr">
                        <select ng-model="vm.selectedItem" ng-options="location as location.formattedAddress for location in locations" ng-change="addressSelect();">
                                <option value="">Select Location</option>
                            </select>
                    </div>
                    <div class="col col-10">
                        <a class="balanced">
                            <i class="icon" style="font-size:30px;" ng-class="{true: 'ion-plus-circled', false: 'ion-minus-circled'}[!vm.newlocation]" ng-click="vm.newlocation = !vm.newlocation;managePlaceObject(vm.newlocation)">
                  </i>
                        </a>
                    </div>
                </div>
                <div  ng-show="vm.newlocation" class="row padding">
                    <div class="col col-90 bor-clr">
                        <input class="w-90-p" placeholder="Enter flat/house Number" name="name" ng-model="vm.customadd" ng-focus="disableTap('autocomplete')" ng-blur="mapSetClickable(true)">
                        <button ng-if="vm.customadd != ''" on-touch="vm.customadd=''" class="input-button input-buttonnew button button-icon ion-ios-close-outline">
                        </button>
                    </div>
                    <div class="col col-10">
                        <a class="balanced">
                            <i class="icon" style="font-size:30px;" ng-class="{true: 'ion-plus-circled', false: 'ion-minus-circled'}[!vm.newlocation]" ng-click="vm.newlocation = !vm.newlocation;managePlaceObject(vm.newlocation)">
                  </i>
                        </a>
                    </div>
                </div>
                <div ng-show="vm.newlocation" class="row padding">
                    <div class="col bor-clr">
                        <input class="w-90-p" places-auto-complete id="autocomplete" ng-model="vm.formattedAddress" type="text" on-place-changed="placeChanged()" ng-focus="disableTap()" ng-blur="mapSetClickable(true)">
                        <button ng-if="vm.formattedAddress != ''" on-touch="onHold()" class="input-button input-buttonnew1 button button-icon ion-ios-close-outline">
                        </button>
                    </div>
                </div>
            </div>
            <div class="row paddingZero row-center text-center">
                <div class="col col-center">
                    <div id="map_canvas" class="map-style">
                        <div class="map-child-target" ng-click="setCurrentLocation()"><i class="icon ion-android-locate placeholder-icon custom-target-icon"></i>
                        </div>
                    </div>
                </div>
            </div>
            </div>

            <div ng-show="vm.SELLTYPE=='DROP'" class="row paddingZero">
                <div class="col">
                    <div class="row bor-clr">
                        <div class="col col-10 paddingZero">
                            <img ngCache class="" src="main/assets/svg/time1.svg" width="35px" height="30px" />
                        </div>
                        <div class="col col-90">
                            <select class="" style=" background-color: transparent; border-color: #fff;" ng-model="data.agentId" ng-options="agent.userId as agent.formattedAddress for agent in agents" ng-change="setDropAgent(data.agentId);scrollToBottom()">
                            <option value="">Select Agent</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row paddingZero">
                <div class="col col-50">
                    <div class="row bor-clr">
                        <div class="col col-20 paddingZero">
                            <img ngCache class="" src="main/assets/svg/time1.svg" width="35px" height="30px" />
                        </div>
                        <div class="col col-80">
                            <select ng-options="slot.slotId as slot.slotName disable when slot.status == 'Disabled' for slot in slots" ng-model="data.preferredSlot">
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col col-50">
                    <div class="row bor-clr">
                        <div class="col col-20 paddingZero"><img ngCache class="" src="main/assets/svg/calender.svg" width="35px" height="30px" /></div>
                        <div class="col col-80" ng-bind="data.preferredDate"></div>
                    </div>
                </div>
            </div>
            <div class="row paddingZero">
                <div class="col">
                    <div class="row bor-clr">
                        <div class="col col-10 paddingZero">
                            <img ngCache class="" src="main/assets/svg/time1.svg" width="35px" height="30px" />
                        </div>
                        <div class="col col-90">
                            <select class="" style=" background-color: transparent; border-color: #fff;" ng-options="paymentMode.value as paymentMode.value for paymentMode in paymentModes" ng-model="data.preferredPaymentMethod">
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
    <div class="tabs dashboardTabsStyle" ng-click="sellNow()">
        <button class="button button-stable button-clear tab-item item-text-wrap" type="submit" style="font-size:16px;color:white;opacity:1;">
            CONFIRM
        </button>
    </div>
</ion-view>
